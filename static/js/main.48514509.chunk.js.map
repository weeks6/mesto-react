{"version":3,"sources":["utils/api.js","utils/constants.js","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.jsx"],"names":["api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","name","about","body","JSON","stringify","link","cardId","isLiked","avatar","authorization","CurrentUserContext","createContext","Header","className","href","target","title","Card","card","onCardClick","onDeleteClick","onCardLike","likes","owner","user","useContext","isOwn","_id","some","i","type","aria-label","onClick","src","alt","onKeyDown","evt","key","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardDelete","cards","map","Footer","Date","getFullYear","PopupWithForm","buttonText","isOpened","onClose","onSubmit","children","onKeyPress","console","log","role","noValidate","ImagePopup","selectedCard","loading","EditProfilePopup","onUpdateUser","useState","setName","setAbout","useEffect","preventDefault","placeholder","minLength","maxLength","required","value","onChange","EditAvatarPopup","onAvatarUpdate","avatarRef","useRef","current","ref","AddPlacePopup","setTitle","titleErrorMessage","setTitleErrorMessage","titleRef","setLink","linkErrorMessage","setLinkErrorMessage","linkRef","validationMessage","App","currentUser","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","setSelectedCard","closeAllPopups","getUserInfo","catch","err","fetchCards","fetchedCards","Provider","changeCardLikeStatus","newCard","state","c","deleteCard","filter","updateUserInfo","finally","updateUserAvatar","createCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.48514509.chunk.js","sourcesContent":["import { baseUrl, authToken } from './constants'\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl\n    this.headers = options.headers\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    // eslint-disable-next-line prefer-promise-reject-errors\n    return Promise.reject(`Ошибка ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this.headers,\n    }).then(this._checkResponse)\n  }\n\n  updateUserInfo(name, about) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._checkResponse)\n  }\n\n  fetchCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      headers: this.headers,\n    }).then(this._checkResponse)\n  }\n\n  createCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._checkResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    }).then(this._checkResponse)\n  }\n\n  changeCardLikeStatus(cardId, isLiked) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: this.headers,\n    }).then(this._checkResponse)\n  }\n\n  updateUserAvatar(avatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._checkResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl,\n  headers: {\n    authorization: authToken,\n    'Content-Type': 'application/json',\n  },\n})\n\nexport default api\n","export const authToken = 'bedcf061-ec3c-4659-8ef2-ecacae078c05'\nexport const baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-22'\n","import { createContext } from 'react'\n\nconst CurrentUserContext = createContext()\nexport default CurrentUserContext\n","export default function Header() {\n  return (\n    <header className=\"header container\">\n      <a\n        href=\"https://weeks6.github.io/mesto-react\"\n        className=\"header__logo\"\n        target=\"_self\"\n        title='Главная страница Mesto'\n      >\n        <span className=\"header__logo_type_sr\">Главная страница Mesto</span>\n      </a>\n    </header>\n  )\n}\n","import { useContext } from 'react'\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nexport default function Card({ card, onCardClick, onDeleteClick, onCardLike }) {\n  const { name, link, likes, owner } = card\n\n  const user = useContext(CurrentUserContext)\n\n  const isOwn = owner?._id === user?._id\n  const isLiked = likes?.some((i) => i._id === user?._id)\n\n  function handleLikeClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onDeleteClick(card)\n  }\n\n  return (\n    <li className=\"card\">\n      {isOwn && (\n        <button\n          className=\"button button_type_delete\"\n          type=\"button\"\n          aria-label=\"Удалить карточку\"\n          onClick={handleDeleteClick}\n        />\n      )}\n      <img\n        src={link}\n        alt={name}\n        className=\"card__image card__main-image\"\n        onClick={() => onCardClick(card)}\n        onKeyDown={(evt) => evt.key === 'Enter' && onCardClick(card)}\n      />\n      <div className=\"card__info\">\n        <h2\n          className=\"card__title\"\n          title={name}\n        >\n          {name}\n        </h2>\n        <div className=\"card__like-wrapper\">\n          <button\n            type=\"button\"\n            // @TODO: add different labels for different states of like\n            aria-label=\"Поставить лайк карточке\"\n            className={`button button_type_like ${\n              isLiked && 'button_type_like_active'\n            }`}\n            onClick={handleLikeClick}\n          />\n          <span className=\"card__like-counter\">{likes?.length}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import { useContext } from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nimport Card from './Card'\n\nexport default function Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  cards,\n}) {\n  const user = useContext(CurrentUserContext)\n\n  return (\n    <main className=\"main container\">\n      <section className=\"profile\">\n        <div className=\"avatar\">\n          <img\n            src={user?.avatar}\n            className=\"avatar__image\"\n            alt={user?.name}\n          />\n          <button\n            className=\"button avatar__edit\"\n            aria-label=\"Редактировать аватар\"\n            type=\"button\"\n            onClick={onEditAvatar}\n          />\n        </div>\n        <div className=\"profile-info\">\n          <div className=\"profile-info__inner\">\n            <h1 className=\"profile-info__name\">{user?.name}</h1>\n            <button\n              type=\"button\"\n              aria-label=\"Редактировать профиль\"\n              className=\"button button_type_edit\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile-info__about\">{user?.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Добавить\"\n          className=\"button button_type_add\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section>\n        <ul className=\"elements\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onCardClick={onCardClick}\n              onDeleteClick={onCardDelete}\n              onCardLike={onCardLike}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n","import React from 'react'\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer container\">\n      <p className=\"footer__title\">© {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  )\n}\n","export default function PopupWithForm({\n  title,\n  name,\n  buttonText,\n  isOpened,\n  onClose,\n  onSubmit,\n  children,\n}) {\n\n  return (\n    <div\n      className={\n        isOpened\n          ? `popup popup_type_${name} popup_opened`\n          : `popup popup_type_${name}`\n      }\n      onKeyPress={(evt) => {\n        console.log(evt);\n      }}\n      role='dialog'\n    >\n      <div className=\"popup__container container\">\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"button button_type_close\"\n          onClick={onClose}\n        />\n        <form\n          className=\"form\"\n          name={`${name}-form`}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          <div className=\"form__inner\">\n            <h2 className=\"popup__title\">{title}</h2>\n            {children}\n            <button\n              className=\"button button_type_save\"\n              type=\"submit\"\n            >\n              {buttonText}\n            </button>\n          </div>\n        </form>\n      </div>\n      <button\n        type='button'\n        title='Закрыть'\n        aria-label='Закрыть'\n        className=\"popup__overlay\"\n        onClick={onClose}\n\n      />\n    </div>\n  )\n}\n","export default function ImagePopup({ selectedCard, onClose }) {\n\n  return (\n    <div\n      className=\n      {`popup ${selectedCard ? 'popup_opened' : ''}`}\n    >\n      <div className=\"image-popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"button button_type_close\"\n          onClick={onClose}\n        />\n        <img\n          src={selectedCard?.link}\n          alt={selectedCard?.name}\n          loading=\"lazy\"\n          className=\"image-popup__image\"\n        />\n        <h2 className=\"image-popup__title\">{selectedCard?.name}</h2>\n      </div>\n    </div>\n  )\n}\n","import { useContext, useState, useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpened, onClose, onUpdateUser }) {\n  const user = useContext(CurrentUserContext)\n\n  const [name, setName] = useState()\n  const [about, setAbout] = useState()\n\n  useEffect(() => {\n    setName(user?.name)\n    setAbout(user?.about)\n  }, [user])\n\n  function handleChangeName(evt) {\n    setName(evt.target.value)\n  }\n\n  function handleChangeAbout(evt) {\n    setAbout(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    onUpdateUser({\n      name,\n      about,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      isOpened={isOpened}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n    >\n      <div className=\"form__input-field\">\n        <input\n          type=\"text\"\n          className=\"form__text-field\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name}\n          onChange={handleChangeName}\n        />\n        <span className=\"form__input-error\" />\n      </div>\n\n      <div className=\"form__input-field\">\n        <input\n          type=\"text\"\n          className=\"form__text-field\"\n          placeholder=\"О себе\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={about}\n          onChange={handleChangeAbout}\n        />\n        <span className=\"form__input-error\" />\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React, { useRef } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpened, onClose, onAvatarUpdate }) {\n\n  const avatarRef = useRef(null)\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    onAvatarUpdate({\n      avatar: avatarRef.current.value\n    })\n  }\n\n  return (\n    <PopupWithForm\n      isOpened={isOpened}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n    >\n      <div className=\"form__input-field\">\n        <input\n          type=\"url\"\n          className=\"form__text-field\"\n          name=\"fieldAvatar\"\n          placeholder=\"Ссылка на картинку\"\n          ref={avatarRef}\n          required\n        />\n        <span className=\"form__input-error\" />\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import { useState, useRef } from 'react'\n\nimport PopupWithForm from \"./PopupWithForm\"\n\n\nexport default function AddPlacePopup({ isOpened, onClose, onAddPlace }) {\n\n  const [title, setTitle] = useState()\n  const [titleErrorMessage, setTitleErrorMessage] = useState('')\n  const titleRef = useRef('')\n  const [link, setLink] = useState()\n  const [linkErrorMessage, setLinkErrorMessage] = useState('')\n  const linkRef = useRef('')\n\n  function handleChangeTitle(evt) {\n    setTitle(evt.target.value)\n    setTitleErrorMessage(titleRef.current.validationMessage)\n  }\n\n  function handleChangeLink(evt) {\n    setLink(evt.target.value)\n    setLinkErrorMessage(linkRef.current.validationMessage)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    onAddPlace({\n      title,\n      link\n    })\n  }\n\n  return (\n    <PopupWithForm\n      isOpened={isOpened}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      name=\"add\"\n      title=\"Новое место\"\n      buttonText=\"Создать\"\n    >\n      <div className=\"form__input-field\">\n        <input\n          type=\"text\"\n          className=\"form__text-field\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n          ref={titleRef}\n          value={title}\n          onChange={handleChangeTitle}\n        />\n        <span className=\"form__input-error\">{titleErrorMessage}</span>\n      </div>\n\n      <div className=\"form__input-field\">\n        <input\n          type=\"url\"\n          className=\"form__text-field\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          ref={linkRef}\n          value={link}\n          onChange={handleChangeLink}\n        />\n        <span className=\"form__input-error\">{linkErrorMessage}</span>\n      </div>\n    </PopupWithForm>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport api from '../utils/api'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null)\n  const [cards, setCards] = useState([])\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = useState(\n    false\n  )\n  const [selectedCard, setSelectedCard] = useState(null)\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user)\n      })\n      .catch((err) => console.log(err))\n\n    api\n      .fetchCards()\n      .then((fetchedCards) => setCards(fetchedCards))\n      .catch((err) => console.log(err))\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n    api\n      .changeCardLikeStatus(card._id, isLiked)\n      .then((newCard) =>\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        )\n      )\n      .catch((err) => console.log(err))\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => setCards((state) => state.filter((c) => c._id !== card._id)))\n      .catch((err) => console.log(err))\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleDeleteClick() {\n    setIsConfirmDeletePopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsConfirmDeletePopupOpen(false)\n    setSelectedCard(null)\n  }\n\n  function handleAddPlaceSubmit({ title, link }) {\n    // TODO: fix naming to be uniform\n    api\n      .createCard({ name: title, link })\n      .then((card) => {\n        setCards([card, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .updateUserInfo(name, about)\n      .then((user) => setCurrentUser(user))\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups())\n  }\n\n  function handleAvatarUpdate({ avatar }) {\n    api\n      .updateUserAvatar(avatar)\n      .then((user) => setCurrentUser(user))\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups())\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onDeleteClick={handleDeleteClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          cards={cards}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpened={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpened={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onAvatarUpdate={handleAvatarUpdate}\n        />\n\n        <AddPlacePopup\n          isOpened={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          isOpened={isConfirmDeletePopupOpen}\n          onClose={closeAllPopups}\n          title=\"Вы уверены?\"\n          name=\"confirm-delete\"\n          buttonText=\"Да\"\n        />\n\n        <ImagePopup \n          selectedCard={selectedCard}\n          onClose={closeAllPopups} \n        />\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}